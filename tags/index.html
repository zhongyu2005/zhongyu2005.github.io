<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Spade Three </title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="generator" content="Hugo 0.59.0" />
    
    
      <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">
    

    
    
      <link href="/dist/css/app.d98f2eb6bcd1eaedb7edf166bd16af26.css" rel="stylesheet">
    

    

    
      
    

    
    
      <link href="/tags/index.xml" rel="alternate" type="application/rss+xml" title="Spade Three" />
      <link href="/tags/index.xml" rel="feed" type="application/rss+xml" title="Spade Three" />
      
    
    
    <meta property="og:title" content="Tags" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="http://zhongyu2005.github.io/tags/" />

<meta property="og:updated_time" content="2019-10-29T19:09:38+08:00" />
<meta itemprop="name" content="Tags">
<meta itemprop="description" content="">

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Tags"/>
<meta name="twitter:description" content=""/>

  </head>

  <body class="ma0 avenir bg-near-white">

    

  <header>
    <div class="pb3-m pb6-l bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="http://zhongyu2005.github.io" class="f3 fw2 hover-white no-underline white-90 dib">
      Spade Three
    </a>
    <div class="flex-l items-center">
      

      
        <ul class="pl0 mr3">
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/about/" title="About page">
              About
            </a>
          </li>
          
        </ul>
      
      











    </div>
  </div>
</nav>

      <div class="tc-l pv3 ph3 ph4-ns">
        <h1 class="f2 f-subheadline-l fw2 light-silver mb0 lh-title">
          Tags
        </h1>
        
      </div>
    </div>
  </header>


    <main class="pb7" role="main">
      
    
  <article class="cf pa3 pa4-m pa4-l">
    <div class="measure-wide-l center f4 lh-copy nested-copy-line-height nested-links nested-img mid-gray">
      
    </div>
  </article>
  <div class="mw8 center">
    <section class="ph4">
      
        <h2 class="f1">
          <a href="/tags/composer" class="link blue hover-black">
            Tag: composer
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="http://zhongyu2005.github.io/posts/php-composer/" class="link black dim">
        Php Composer
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      composer php -r &quot;copy('https://getcomposer.org/installer', 'composer-setup.php');&quot; php -r &quot;if (hash_file('sha384', 'composer-setup.php') === 'a5c698ffe4b8e849a443b120cd5ba38043260d5c4023dbf93e1558871f1f07f58274fc6f4c93bcfd858c6bd0775cd8d1') { echo 'Installer verified'; } else { echo 'Installer corrupt'; unlink('composer-setup.php'); } echo PHP_EOL;&quot; php composer-setup.php php -r &quot;unlink('composer-setup.php');&quot; echo @php &quot;%~dp0composer.phar&quot; %*&gt;composer.bat composer -V php composer.phar self-update  composer use  php composer.phar create-project doctrine/orm path 2.2.* AND php composer.phar require xxx php composer.phar remove xxx OR edit composer.json php composer.phar install php composer.phar update php composer.
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/curl" class="link blue hover-black">
            Tag: curl
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="http://zhongyu2005.github.io/posts/php-curl/" class="link black dim">
        Php Curl
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      curl commonfunc function http($url, $data, $params = [], &amp;$error) { $timeout = isset($params['timeout']) ? $params['timeout'] : 10; // 默认超时时间是10秒 $curl = curl_init(); curl_setopt($curl, CURLOPT_HTTP_VERSION, CURL_HTTP_VERSION_1_0); curl_setopt($curl, CURLOPT_URL, $url); curl_setopt($curl, CURLOPT_TIMEOUT, $timeout); //超时时间 curl_setopt($curl, CURLOPT_CONNECTTIMEOUT, 0); //在发起连接前等待的时间，如果设置为0，则不等待 if (!empty($data)) { curl_setopt($curl, CURLOPT_POST, 1); curl_setopt($curl, CURLOPT_POSTFIELDS, $data); } curl_setopt($curl, CURLOPT_SSLVERSION, 1); //升级ssl curl_setopt($curl, CURLOPT_SSL_VERIFYPEER, false); //ssl curl_setopt($curl, CURLOPT_SSL_VERIFYHOST, false); //ssl curl_setopt($curl, CURLINFO_HEADER_OUT, true); $UserAgent = 'Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/39.
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/date" class="link blue hover-black">
            Tag: date
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="http://zhongyu2005.github.io/posts/php-date/" class="link black dim">
        Php Date
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
       php date $date = new \DateTime(null, new \DateTimeZone(&quot;PRC&quot;)); $ymd = $date-&gt;format(&quot;Y-m-d H:i:s&quot;); $time = $date-&gt;getTimestamp(); $date-&gt;modify(&quot;-1 day -1 hour &quot;);//减一天，减一个小时 $date-&gt;modify(&quot;this week today&quot;);//本周第一天，周一开始，仅保留年月日 $diff=$date-&gt;diff(new \DateTime('20191001',new \DateTimeZone(&quot;PRC&quot;))); $s=$diff-&gt;format(&quot;相差%Y年%m月%d日 %H时%i分%s秒&quot;);  
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/db" class="link blue hover-black">
            Tag: db
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="http://zhongyu2005.github.io/posts/php-db/" class="link black dim">
        Php Db
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      php sqlite public function getSqlite($path) { if (empty($this-&gt;dbs[$path])) { $this-&gt;dbs[$path] = new \SQLite3($path); } return $this-&gt;dbs[$path]; } public function dbExec($db, $sql,$bindParam) { $sm=$db-&gt;prepare($sql); if(!empty($bindParam)){ foreach ($bindParam as $key=&gt;$val) { $sm-&gt;bindValue($key, $val); } } return $sm-&gt;execute(); // $db-&gt;lastErrorMsg() } public function dbQueryOne($db, $sql,$bindParam) { $sm=$db-&gt;prepare($sql); if(!empty($bindParam)){ foreach ($bindParam as $key=&gt;$val) { $sm-&gt;bindValue($key, $val); } } $res = $sm-&gt;execute(); $row = $res-&gt;fetchArray(SQLITE3_ASSOC); return $row; } public function dbQueryAll($db, $sql,$bindParam) { $sm=$db-&gt;prepare($sql); if(!
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/filter" class="link blue hover-black">
            Tag: filter
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="http://zhongyu2005.github.io/posts/php-filter/" class="link black dim">
        Php Filter
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      filter 验证 ip $ip = &quot;192.168.0.1&quot;; //$ip = &quot;2001:0db8:85a3:08d3:1319:8a2e:0370:7334&quot;; if(!filter_var($ip, FILTER_VALIDATE_IP,FILTER_FLAG_IPV6)){ echo &quot;IP is not valid&quot;; }else { echo &quot;IP is valid&quot;; }  filter 验证 email $email = &quot;someone@example.com&quot;; if(!filter_var($email, FILTER_VALIDATE_EMAIL)){ echo &quot;E-mail is not valid&quot;; }else{ echo &quot;E-mail is valid&quot;; }  filter 验证 email $email = &quot;someone@example.com&quot;; if(!filter_var($email, FILTER_VALIDATE_EMAIL)){ echo &quot;E-mail is not valid&quot;; }else{ echo &quot;E-mail is valid&quot;; }  filter 验证 email $url = &quot;http://www.
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/ini_set" class="link blue hover-black">
            Tag: ini_set
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="http://zhongyu2005.github.io/posts/php-ini/" class="link black dim">
        Php Ini
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      ini_set ini_set('display_errors', true);//开启错误信息显示 ini_set(&quot;error_log&quot;, __DIR__.'/'. date('Y-m-d') . &quot;.log&quot;);//设置php错误路径 ini_set('date.timezone','Asia/Shanghai'); ini_set('max_execution_time', 0);//不限制执行时间 ini_set('magic_quotes_runtime', 0);//关闭自动反斜线转移引号 ini_set('memory_limit', '512M'); ignore_user_abort(true); // 后台运行 set_time_limit(0); // 取消脚本运行时间的超时上限  header  header(&quot;Content-type: text/html; charset=utf-8&quot;); header('Content-Type:application/json; charset=utf-8'); header('Access-Control-Allow-Origin:*'); header(&quot;Access-Control-Allow-Methods&quot;,&quot;POST&quot;); header(&quot;Access-Control-Allow-Credentials&quot;,&quot;true&quot;); header('Access-Control-Allow-Headers:x-requested-with,content-type'); header(&quot;HTTP/1.1 404 Not Found&quot;); header(&quot;Status: 404 Not Found&quot;);  memory  function getMemory($real = false) { $size = memory_get_usage($real); $unit = array('b', 'kb', 'mb', 'gb', 'tb', 'pb'); return @round($size / pow(1024, ($i = floor(log($size, 1024)))), 2) .
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/ip" class="link blue hover-black">
            Tag: ip
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="http://zhongyu2005.github.io/posts/php-ip/" class="link black dim">
        Php Ip
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
       php getId function getIP() { if (isset($_SERVER)) { if (isset($_SERVER['HTTP_X_FORWARDED_FOR'])) { $realip = $_SERVER['HTTP_X_FORWARDED_FOR']; } elseif (isset($_SERVER['HTTP_CLIENT_IP'])) { $realip = $_SERVER['HTTP_CLIENT_IP']; } else { $realip = $_SERVER['REMOTE_ADDR']; } } else { if (getenv(&quot;HTTP_X_FORWARDED_FOR&quot;)) { $realip = getenv( &quot;HTTP_X_FORWARDED_FOR&quot;); } elseif (getenv(&quot;HTTP_CLIENT_IP&quot;)) { $realip = getenv(&quot;HTTP_CLIENT_IP&quot;); } else { $realip = getenv(&quot;REMOTE_ADDR&quot;); } } if(empty($realip) || strtolower($realip)=='unknown'){ return ''; } return $realip; }  
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/mysql" class="link blue hover-black">
            Tag: mysql
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="http://zhongyu2005.github.io/posts/php-db/" class="link black dim">
        Php Db
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      php sqlite public function getSqlite($path) { if (empty($this-&gt;dbs[$path])) { $this-&gt;dbs[$path] = new \SQLite3($path); } return $this-&gt;dbs[$path]; } public function dbExec($db, $sql,$bindParam) { $sm=$db-&gt;prepare($sql); if(!empty($bindParam)){ foreach ($bindParam as $key=&gt;$val) { $sm-&gt;bindValue($key, $val); } } return $sm-&gt;execute(); // $db-&gt;lastErrorMsg() } public function dbQueryOne($db, $sql,$bindParam) { $sm=$db-&gt;prepare($sql); if(!empty($bindParam)){ foreach ($bindParam as $key=&gt;$val) { $sm-&gt;bindValue($key, $val); } } $res = $sm-&gt;execute(); $row = $res-&gt;fetchArray(SQLITE3_ASSOC); return $row; } public function dbQueryAll($db, $sql,$bindParam) { $sm=$db-&gt;prepare($sql); if(!
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/php" class="link blue hover-black">
            Tag: php
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="http://zhongyu2005.github.io/posts/php-db/" class="link black dim">
        Php Db
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      php sqlite public function getSqlite($path) { if (empty($this-&gt;dbs[$path])) { $this-&gt;dbs[$path] = new \SQLite3($path); } return $this-&gt;dbs[$path]; } public function dbExec($db, $sql,$bindParam) { $sm=$db-&gt;prepare($sql); if(!empty($bindParam)){ foreach ($bindParam as $key=&gt;$val) { $sm-&gt;bindValue($key, $val); } } return $sm-&gt;execute(); // $db-&gt;lastErrorMsg() } public function dbQueryOne($db, $sql,$bindParam) { $sm=$db-&gt;prepare($sql); if(!empty($bindParam)){ foreach ($bindParam as $key=&gt;$val) { $sm-&gt;bindValue($key, $val); } } $res = $sm-&gt;execute(); $row = $res-&gt;fetchArray(SQLITE3_ASSOC); return $row; } public function dbQueryAll($db, $sql,$bindParam) { $sm=$db-&gt;prepare($sql); if(!
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="http://zhongyu2005.github.io/posts/php-upload/" class="link black dim">
        Php Upload
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      upload php $file = $_FILES['file']; if (empty($file)) { return log(&quot;未获取到上传数据&quot;, 1); } $maxSize = 1024 * 1024 * 3;//3m if ($file['size'] &gt; $maxSize) { return log(&quot;上传数据大小超过限制&quot;, 1); } if (!in_array($file['type'], ['image/jpeg', 'image/png', 'image/gif'])) { log(&quot;上传文件类型不正确&quot;, 1); } $suffix = pathinfo($file['name'], PATHINFO_EXTENSION); //文件后缀 $suffix = strtolower($suffix); if (!in_array($suffix, array('jpg', 'png', 'gif', 'jpeg'))) { return log(&quot;上传文件类型不正确&quot;, 1); } $path = __DIR__ . '/img'; $name = '/' . date(&quot;Ym&quot;) . '/' . md5(uniqid('dp', true)) .
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="http://zhongyu2005.github.io/posts/php-date/" class="link black dim">
        Php Date
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
       php date $date = new \DateTime(null, new \DateTimeZone(&quot;PRC&quot;)); $ymd = $date-&gt;format(&quot;Y-m-d H:i:s&quot;); $time = $date-&gt;getTimestamp(); $date-&gt;modify(&quot;-1 day -1 hour &quot;);//减一天，减一个小时 $date-&gt;modify(&quot;this week today&quot;);//本周第一天，周一开始，仅保留年月日 $diff=$date-&gt;diff(new \DateTime('20191001',new \DateTimeZone(&quot;PRC&quot;))); $s=$diff-&gt;format(&quot;相差%Y年%m月%d日 %H时%i分%s秒&quot;);  
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="http://zhongyu2005.github.io/posts/php-curl/" class="link black dim">
        Php Curl
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      curl commonfunc function http($url, $data, $params = [], &amp;$error) { $timeout = isset($params['timeout']) ? $params['timeout'] : 10; // 默认超时时间是10秒 $curl = curl_init(); curl_setopt($curl, CURLOPT_HTTP_VERSION, CURL_HTTP_VERSION_1_0); curl_setopt($curl, CURLOPT_URL, $url); curl_setopt($curl, CURLOPT_TIMEOUT, $timeout); //超时时间 curl_setopt($curl, CURLOPT_CONNECTTIMEOUT, 0); //在发起连接前等待的时间，如果设置为0，则不等待 if (!empty($data)) { curl_setopt($curl, CURLOPT_POST, 1); curl_setopt($curl, CURLOPT_POSTFIELDS, $data); } curl_setopt($curl, CURLOPT_SSLVERSION, 1); //升级ssl curl_setopt($curl, CURLOPT_SSL_VERIFYPEER, false); //ssl curl_setopt($curl, CURLOPT_SSL_VERIFYHOST, false); //ssl curl_setopt($curl, CURLINFO_HEADER_OUT, true); $UserAgent = 'Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/39.
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="http://zhongyu2005.github.io/posts/php-ip/" class="link black dim">
        Php Ip
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
       php getId function getIP() { if (isset($_SERVER)) { if (isset($_SERVER['HTTP_X_FORWARDED_FOR'])) { $realip = $_SERVER['HTTP_X_FORWARDED_FOR']; } elseif (isset($_SERVER['HTTP_CLIENT_IP'])) { $realip = $_SERVER['HTTP_CLIENT_IP']; } else { $realip = $_SERVER['REMOTE_ADDR']; } } else { if (getenv(&quot;HTTP_X_FORWARDED_FOR&quot;)) { $realip = getenv( &quot;HTTP_X_FORWARDED_FOR&quot;); } elseif (getenv(&quot;HTTP_CLIENT_IP&quot;)) { $realip = getenv(&quot;HTTP_CLIENT_IP&quot;); } else { $realip = getenv(&quot;REMOTE_ADDR&quot;); } } if(empty($realip) || strtolower($realip)=='unknown'){ return ''; } return $realip; }  
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="http://zhongyu2005.github.io/posts/php-filter/" class="link black dim">
        Php Filter
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      filter 验证 ip $ip = &quot;192.168.0.1&quot;; //$ip = &quot;2001:0db8:85a3:08d3:1319:8a2e:0370:7334&quot;; if(!filter_var($ip, FILTER_VALIDATE_IP,FILTER_FLAG_IPV6)){ echo &quot;IP is not valid&quot;; }else { echo &quot;IP is valid&quot;; }  filter 验证 email $email = &quot;someone@example.com&quot;; if(!filter_var($email, FILTER_VALIDATE_EMAIL)){ echo &quot;E-mail is not valid&quot;; }else{ echo &quot;E-mail is valid&quot;; }  filter 验证 email $email = &quot;someone@example.com&quot;; if(!filter_var($email, FILTER_VALIDATE_EMAIL)){ echo &quot;E-mail is not valid&quot;; }else{ echo &quot;E-mail is valid&quot;; }  filter 验证 email $url = &quot;http://www.
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="http://zhongyu2005.github.io/posts/php-composer/" class="link black dim">
        Php Composer
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      composer php -r &quot;copy('https://getcomposer.org/installer', 'composer-setup.php');&quot; php -r &quot;if (hash_file('sha384', 'composer-setup.php') === 'a5c698ffe4b8e849a443b120cd5ba38043260d5c4023dbf93e1558871f1f07f58274fc6f4c93bcfd858c6bd0775cd8d1') { echo 'Installer verified'; } else { echo 'Installer corrupt'; unlink('composer-setup.php'); } echo PHP_EOL;&quot; php composer-setup.php php -r &quot;unlink('composer-setup.php');&quot; echo @php &quot;%~dp0composer.phar&quot; %*&gt;composer.bat composer -V php composer.phar self-update  composer use  php composer.phar create-project doctrine/orm path 2.2.* AND php composer.phar require xxx php composer.phar remove xxx OR edit composer.json php composer.phar install php composer.phar update php composer.
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="http://zhongyu2005.github.io/posts/php-ini/" class="link black dim">
        Php Ini
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      ini_set ini_set('display_errors', true);//开启错误信息显示 ini_set(&quot;error_log&quot;, __DIR__.'/'. date('Y-m-d') . &quot;.log&quot;);//设置php错误路径 ini_set('date.timezone','Asia/Shanghai'); ini_set('max_execution_time', 0);//不限制执行时间 ini_set('magic_quotes_runtime', 0);//关闭自动反斜线转移引号 ini_set('memory_limit', '512M'); ignore_user_abort(true); // 后台运行 set_time_limit(0); // 取消脚本运行时间的超时上限  header  header(&quot;Content-type: text/html; charset=utf-8&quot;); header('Content-Type:application/json; charset=utf-8'); header('Access-Control-Allow-Origin:*'); header(&quot;Access-Control-Allow-Methods&quot;,&quot;POST&quot;); header(&quot;Access-Control-Allow-Credentials&quot;,&quot;true&quot;); header('Access-Control-Allow-Headers:x-requested-with,content-type'); header(&quot;HTTP/1.1 404 Not Found&quot;); header(&quot;Status: 404 Not Found&quot;);  memory  function getMemory($real = false) { $size = memory_get_usage($real); $unit = array('b', 'kb', 'mb', 'gb', 'tb', 'pb'); return @round($size / pow(1024, ($i = floor(log($size, 1024)))), 2) .
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/sqlite" class="link blue hover-black">
            Tag: sqlite
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="http://zhongyu2005.github.io/posts/php-db/" class="link black dim">
        Php Db
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      php sqlite public function getSqlite($path) { if (empty($this-&gt;dbs[$path])) { $this-&gt;dbs[$path] = new \SQLite3($path); } return $this-&gt;dbs[$path]; } public function dbExec($db, $sql,$bindParam) { $sm=$db-&gt;prepare($sql); if(!empty($bindParam)){ foreach ($bindParam as $key=&gt;$val) { $sm-&gt;bindValue($key, $val); } } return $sm-&gt;execute(); // $db-&gt;lastErrorMsg() } public function dbQueryOne($db, $sql,$bindParam) { $sm=$db-&gt;prepare($sql); if(!empty($bindParam)){ foreach ($bindParam as $key=&gt;$val) { $sm-&gt;bindValue($key, $val); } } $res = $sm-&gt;execute(); $row = $res-&gt;fetchArray(SQLITE3_ASSOC); return $row; } public function dbQueryAll($db, $sql,$bindParam) { $sm=$db-&gt;prepare($sql); if(!
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/upload" class="link blue hover-black">
            Tag: upload
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="http://zhongyu2005.github.io/posts/php-upload/" class="link black dim">
        Php Upload
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      upload php $file = $_FILES['file']; if (empty($file)) { return log(&quot;未获取到上传数据&quot;, 1); } $maxSize = 1024 * 1024 * 3;//3m if ($file['size'] &gt; $maxSize) { return log(&quot;上传数据大小超过限制&quot;, 1); } if (!in_array($file['type'], ['image/jpeg', 'image/png', 'image/gif'])) { log(&quot;上传文件类型不正确&quot;, 1); } $suffix = pathinfo($file['name'], PATHINFO_EXTENSION); //文件后缀 $suffix = strtolower($suffix); if (!in_array($suffix, array('jpg', 'png', 'gif', 'jpeg'))) { return log(&quot;上传文件类型不正确&quot;, 1); } $path = __DIR__ . '/img'; $name = '/' . date(&quot;Ym&quot;) . '/' . md5(uniqid('dp', true)) .
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/welcome" class="link blue hover-black">
            Tag: welcome
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="http://zhongyu2005.github.io/posts/welcome/" class="link black dim">
        welcome
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
       Welcom to spade. hugo help
hugo version hugo new site xxx hugo new posts/welcome.md hugo server -D hugo (cp -R public ../../spade.github.io)  config.tomal
baseURL = &quot;http://zhongyu2005.github.io&quot; languageCode = &quot;en-us&quot; title = &quot;Spade Three&quot; theme = &quot;ananke&quot; [taxonomies] tag = &quot;tags&quot;  posts/welcome.md
--- title: &quot;welcome&quot; date: 2019-10-29T12:51:26+08:00 tags: [&quot;welcome&quot;] --- Welcom to spade. xxxx  
    </div>
  </div>
</div>

        
      
    </section>
  </div>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="http://zhongyu2005.github.io" >
    &copy; 2019 Spade Three
  </a>
    <div>










</div>
  </div>
</footer>

    

  <script src="/dist/js/app.3fc0f988d21662902933.js"></script>


  </body>
</html>
